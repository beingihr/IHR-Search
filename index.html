<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHR Seacrh ¬∑ direct API</title>
    <style>
        /* === ANIMATED IHR SEACRH ‚Äî API EMBEDDED IN JS (NO USER KEY NEEDED) === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-color: #ffffff;
            color: #202124;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background 0.2s ease;
        }

        /* === ANIMATIONS ‚Äì PURE DELIGHT === */
        header {
            padding: 15px 30px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 20px;
            border-bottom: 1px solid #dadce0;
            animation: slideIn 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideIn {
            0% { opacity: 0; transform: translateY(-18px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .apps-icon {
            width: 26px;
            height: 26px;
            background: radial-gradient(circle at 30% 30%, #f8f9fa, #e8eaed);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: 600;
            color: #3c4043;
            transition: all 0.25s ease;
            box-shadow: 0 1px 4px rgba(0,0,0,0.04);
        }
        .apps-icon:hover {
            transform: scale(1.12) rotate(10deg);
            background: #dfe1e5;
            color: #1a1e24;
        }

        .signin-btn {
            background: linear-gradient(145deg, #4285f4, #3367d6);
            color: white;
            border: none;
            border-radius: 40px;
            padding: 8px 22px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s cubic-bezier(0.2, 0, 0, 1);
            box-shadow: 0 2px 8px rgba(66,133,244,0.3);
        }
        .signin-btn:hover {
            background: linear-gradient(145deg, #3367d6, #2a56c6);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 20px rgba(66,133,244,0.35);
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadePop 0.9s ease;
        }

        @keyframes fadePop {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* === IHR LOGO ‚Äî SUPER DYNAMIC GRADIENT + FLOATING === */
        .logo {
            font-size: 92px;
            font-weight: 550;
            margin-bottom: 20px;
            background: linear-gradient(145deg, #4285f4, #ea4335, #fbbc05, #34a853, #4285f4);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 400% 400%;
            animation: gradientRush 6s ease infinite, levitate 5s infinite alternate;
            filter: drop-shadow(0 10px 12px rgba(0,0,0,0.08));
            letter-spacing: -0.5px;
        }

        @keyframes gradientRush {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes levitate {
            0% { transform: translateY(0px) scale(1); }
            100% { transform: translateY(-6px) scale(1.01); }
        }

        /* üîé SEARCH BOX ‚Äì SMOOTH INTERACTION */
        .search-container {
            width: 584px;
            max-width: 90%;
            margin: 15px 0 30px;
        }

        .search-box {
            width: 100%;
            height: 50px;
            border: 1px solid #dfe1e5;
            border-radius: 30px;
            padding: 0 26px;
            font-size: 16px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.02);
            transition: all 0.25s;
            background: white;
        }
        .search-box:focus {
            outline: none;
            border-color: transparent;
            box-shadow: 0 4px 16px rgba(66,133,244,0.2), 0 0 0 2px rgba(66,133,244,0.1);
            transform: scale(1.01);
        }
        .search-box::placeholder {
            color: #9aa0a6;
            transition: opacity 0.2s, transform 0.2s;
        }
        .search-box:focus::placeholder {
            opacity: 0.7;
            transform: translateX(5px);
        }

        .search-buttons {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 20px;
        }

        .search-btn {
            background: #f8f9fa;
            border: 1px solid #f1f3f4;
            border-radius: 40px;
            color: #3c4043;
            font-size: 14.5px;
            padding: 11px 24px;
            cursor: pointer;
            transition: all 0.25s cubic-bezier(0.2, 0, 0, 1);
            font-weight: 470;
            letter-spacing: 0.2px;
        }
        .search-btn:hover {
            background: #ffffff;
            border-color: #c5c9ce;
            box-shadow: 0 8px 16px rgba(0,0,0,0.04);
            transform: translateY(-2.5px);
            color: #202124;
        }

        .search-btn.primary {
            background: linear-gradient(165deg, #1a73e8, #4285f4);
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(26,115,232,0.3);
        }
        .search-btn.primary:hover {
            background: linear-gradient(165deg, #1765cc, #1a73e8);
            box-shadow: 0 12px 24px rgba(26,115,232,0.4);
            transform: translateY(-3px) scale(1.02);
        }

        /* üí¨ RESPONSE CARD ‚Äì GLASS EFFECT + BOUNCE */
        .results-container {
            width: 64%;
            max-width: 820px;
            margin-top: 50px;
            padding: 24px 30px;
            border-radius: 32px;
            background: rgba(248,249,250,0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(218,220,224,0.4);
            display: none;
            animation: cardRise 0.6s cubic-bezier(0.22, 0.98, 0.52, 1);
            box-shadow: 0 20px 32px -8px rgba(0,0,0,0.06);
        }

        @keyframes cardRise {
            0% { opacity: 0; transform: scale(0.95) translateY(18px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        .results-header {
            font-size: 20px;
            margin-bottom: 14px;
            color: #1e1f22;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .results-header::after {
            content: "‚ö°";
            font-size: 22px;
            animation: blinkSoft 2.2s infinite;
        }
        @keyframes blinkSoft {
            0%,100% { opacity: 0.7; }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .gemini-response {
            line-height: 1.7;
            color: #1f1f1f;
            font-size: 16.2px;
            background: white;
            padding: 26px 30px;
            border-radius: 24px;
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.01), 0 8px 18px rgba(0,0,0,0.02);
            white-space: pre-wrap;
            word-break: break-word;
            border: 1px solid rgba(255,255,255,0.7);
        }

        /* üåÄ LOADING ‚Äì SPINNER + PULSE */
        .loading {
            display: none;
            text-align: center;
            margin-top: 35px;
        }
        .spinner {
            border: 5px solid #e2e6ea;
            border-top: 5px solid #4285f4;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 0.85s linear infinite, colorPulse 1.8s infinite;
            margin: 0 auto;
            box-shadow: 0 0 14px rgba(66,133,244,0.2);
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes colorPulse {
            0%, 100% { border-top-color: #4285f4; }
            50% { border-top-color: #34a853; }
        }
        .loading p {
            margin-top: 14px;
            color: #5f6368;
            font-size: 16px;
            font-weight: 400;
            animation: pulseOpacity 1.6s infinite;
        }
        @keyframes pulseOpacity {
            0%,100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* ‚ö†Ô∏è ERROR ‚Äì SHAKE + SOFT */
        .error-message {
            color: #d93025;
            margin-top: 22px;
            display: none;
            padding: 16px 24px;
            background: #fce8e6;
            border-radius: 60px;
            border: 1px solid #f1b2ae;
            font-weight: 470;
            animation: shakeX 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97);
        }
        @keyframes shakeX {
            0%,100% { transform: translateX(0); }
            20% { transform: translateX(-7px); }
            40% { transform: translateX(7px); }
            60% { transform: translateX(-4px); }
            80% { transform: translateX(4px); }
        }

        /* FOOTER */
        footer {
            padding: 18px;
            text-align: center;
            color: #70757a;
            border-top: 1px solid #dadce0;
            margin-top: 25px;
            animation: fadeUp 0.8s;
        }
        @keyframes fadeUp {
            0% { opacity: 0; transform: translateY(16px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 24px;
            margin-top: 5px;
        }
        .footer-links a {
            color: #5f6368;
            text-decoration: none;
            transition: 0.18s;
            border-bottom: 1px solid transparent;
        }
        .footer-links a:hover {
            color: #1a73e8;
            border-bottom: 1px solid #1a73e8;
            transform: translateY(-2px);
        }

        @media (max-width: 600px) {
            .logo { font-size: 58px; }
            .search-container { width: 95%; }
            .results-container { width: 92%; padding: 20px; }
            .gemini-response { padding: 18px; }
            .search-buttons { flex-direction: column; align-items: center; }
            .search-btn { width: 90%; }
        }
    </style>
</head>
<body>
    <header>
        <div class="apps-icon" title="IHR hub">G</div>
        <button class="signin-btn">
            <span>Sign in</span>
        </button>
    </header>

    <div class="main-content">
        <!-- IHR Seacrh logo ‚Äì animated always -->
        <div class="logo">IHR Seacrh</div>

        <!-- ========= SEARCH INTERFACE ‚Äì NO API KEY SETUP ========= -->
        <!-- API key is HARDCODED in JS ‚Äì no user input needed -->
        <div id="searchInterface" style="display:flex; flex-direction:column; align-items:center; width:100%;">
            <div class="search-container">
                <input type="text" class="search-box" id="searchInput" placeholder="Ask anything... (e.g., 'History of AI')" autofocus>
            </div>
            <div class="search-buttons">
                <button class="search-btn primary" id="searchBtn">üîç IHR Seacrh</button>
                <button class="search-btn" id="luckyBtn">üçÄ Feeling lucky</button>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>IHR Seacrh is processing...</p>
            </div>

            <div class="error-message" id="errorMessage"></div>

            <div class="results-container" id="resultsContainer">
                <div class="results-header">IHR Seacrh response</div>
                <div class="gemini-response" id="geminiResponse"></div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-links">
            <a href="#">About</a>
            <a href="#">Advertising</a>
            <a href="#">Business</a>
            <a href="#">How Search works</a>
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
            <a href="#">Settings</a>
        </div>
        <p style="margin-top: 12px; color: #5f6368;">‚ú® IHR Seacrh ¬∑ API embedded ¬∑ no setup needed ‚ú®</p>
    </footer>

    <script>
        // ====================================================
        // ‚ö°‚ö° IHR SEACRH ‚Äì HARDCODED GEMINI API KEY ‚ö°‚ö°
        // ====================================================
        // üîê DIRECT API KEY EMBEDDED IN JS FILE ‚Äî FIXED PER REQUEST
        // NO USER INPUT REQUIRED ‚Äì READY TO SEARCH IMMEDIATELY
        // ====================================================

        (function() {
            'use strict';

            // -------------------------------------------------
            // üîë YOUR GEMINI API KEY ‚Äì¬†EDIT THIS LINE üîë
            // -------------------------------------------------
            // ‚ö†Ô∏è  WARNING: For production, move this to a backend proxy.
            //     But for this demo, the key is directly in JS.
            //     Replace with your actual valid key from Google AI Studio.
            const GEMINI_API_KEY = 'AIzaSyCX_-qcPbUqUrwPRXRvi3H9yTb79C32CdU';  // <-- PASTE YOUR KEY HERE
            
            // -------------------------------------------------
            // DOM elements
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const luckyBtn = document.getElementById('luckyBtn');
            const resultsContainer = document.getElementById('resultsContainer');
            const geminiResponse = document.getElementById('geminiResponse');
            const loading = document.getElementById('loading');
            const errorMessage = document.getElementById('errorMessage');

            // focus input on load
            searchInput?.focus();

            // ---------- MAIN SEARCH FUNCTION (CALLS GEMINI) ----------
            async function performSearch() {
                const query = searchInput.value.trim();

                if (!query) {
                    showError('Please enter a question');
                    return;
                }

                // show loading, hide previous results
                loading.style.display = 'block';
                resultsContainer.style.display = 'none';
                errorMessage.style.display = 'none';
                geminiResponse.innerHTML = '';

                try {
                    // Use stable Gemini 1.5 Flash ‚Äì widely available
                    const MODEL = 'gemini-2.5-flash';  // fast & reliable
                    const url = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL}:generateContent?key=${GEMINI_API_KEY}`;

                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{ text: query }]
                            }],
                            generationConfig: {
                                maxOutputTokens: 950,
                                temperature: 0.75,
                                topP: 0.86,
                                topK: 38
                            }
                        })
                    });

                    const data = await response.json();

                    if (!response.ok) {
                        let errorMsg = 'IHR Seacrh API error';
                        if (data.error) {
                            // detailed error handling
                            if (data.error.code === 400) errorMsg = 'Request malformed ‚Äì try a different question.';
                            else if (data.error.code === 401 || data.error.code === 403) {
                                errorMsg = '‚ùå API KEY INVALID or expired. Please check the key in JS file.';
                            } else if (data.error.code === 429) errorMsg = 'Rate limit. Please wait a moment.';
                            else errorMsg = data.error.message || errorMsg;
                        }
                        throw new Error(errorMsg);
                    }

                    // extract response text
                    let reply = '';
                    if (data.candidates && data.candidates[0]?.content?.parts?.length) {
                        reply = data.candidates[0].content.parts[0].text || '';
                    }

                    if (!reply) {
                        throw new Error('IHR returned empty response.');
                    }

                    // beautify and display
                    geminiResponse.innerHTML = formatResponse(reply);
                    resultsContainer.style.display = 'block';
                } catch (err) {
                    console.error('IHR Search Error:', err);
                    showError(err.message || 'Failed to get answer.');
                } finally {
                    loading.style.display = 'none';
                }
            }

            // format markdown-style links, bold, italic, line breaks
            function formatResponse(text) {
                if (!text) return '';
                // convert [text](url) to anchor tags
                text = text.replace(/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g, '<a href="$2" target="_blank" style="color:#1a0dab;text-decoration:underline;font-weight:500;">$1</a>');
                // double asterisk bold
                text = text.replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>');
                // single asterisk italic
                text = text.replace(/\*([^*]+)\*/g, '<em>$1</em>');
                // line breaks
                text = text.replace(/\n/g, '<br>');
                return text;
            }

            function showError(msg) {
                errorMessage.textContent = msg;
                errorMessage.style.display = 'block';
                loading.style.display = 'none';
            }

            // ---------- EVENT LISTENERS ----------
            searchBtn.addEventListener('click', performSearch);

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // üçÄ I'm feeling lucky ‚Äì random interesting query
            luckyBtn.addEventListener('click', () => {
                const randomQueries = [
                    "Explain dark matter simply",
                    "What's the most mysterious place on Earth?",
                    "How does memory work in the brain?",
                    "Why do we dream? (neuroscience)",
                    "Tell me about the Voyager spacecraft",
                    "What is quantum entanglement?",
                    "How do bees make honey?",
                    "What causes creativity?",
                    "Explain the Fibonacci sequence in nature",
                    "What's the future of renewable energy?"
                ];
                searchInput.value = randomQueries[Math.floor(Math.random() * randomQueries.length)];
                performSearch();
            });

            // optional: initial welcome focus
            // if you want a welcome message, uncomment next lines
            // setTimeout(() => {
            //     searchInput.value = "What is IHR Seacrh?";
            //     performSearch();
            // }, 400);
        })();
    </script>

    <!-- small hint for key replacement -->
    <div style="display:none;">IHR SEACRH ‚Äî API hardcoded in script ‚Äî replace dummy key</div>
</body>
</html>